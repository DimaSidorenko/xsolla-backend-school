# Xsolla School 2021. Backend. Test Task

Отборочное задание в школу по backend разработке Xsolla 2021: 
  - [Постановка задачи](https://github.com/xsolla/xsolla-school-backend-2021/blob/main/README.md)
  - [Технологии](#технологии)
  - [Описание интерфейса](#описание-интерфейса)
  - [Тестирование локально](#последовательность-действий-для-запуска-и-тестирования-api)
  - [Тестирование на Heroku](#тестирование-на-heroku)



## Технологии
  - Server: Node.js
    - Фреймворки: Express, Mongoose
  - Database: MongoDB

## Описание интерфейса

### Получение информации о товаре/товарах
- GET ../api/market/all 
  - Метод возвращает список всех добавленных товаров
- GET ../api/market/:id 
  - Метод возвращает все данные о товаре по его индентификатору
- GET ../api/market/sku/:id 
  - Метод возвращает все данные о товаре по его SKU

### Создание товара
- POST ../api/market 
  - Метод генерирует и возвращает уникальный идентификатор товара

### Редактирование товара
- PUT ../api/market/:id 
  - Метод изменяет все данные о товаре по его идентификатору
- PUT ../api/market/sku/:id 
  - Метод изменяет все данные о товаре по его SKU

### Удаление товара
- DELETE ../api/market/:id 
  - Метод удаляет все данные о товаре по его идентификатору
- DELETE ../api/market/sku/:id 
  - Метод удаляет все данные о товаре по его SKU


## Последовательность действий для запуска и тестирования API
0. Раскомментить "const uri = "mongodb://localhost/market-db";" в файле index.js, при этом закомментить в том же файле строчку "const uri = process.env.MONGODB_URI"
1. Скачать и установить node.js (https://nodejs.org/en/)
2. Развернуть базу данных локально. В качестве базы данных выступает MongoDB
    1. Установить MongoDB (https://www.mongodb.com/try/download/community) 
    2. Cоздать папку data/db в корневой папке диска на который установлена БД
    3. Перейти в папку ../MongoDB/Server/4.4/bin через командную строку и выполнить команду mongod
3. Клонировать репозиторий командой git clone
4. Развернуть сервер командой "node index" из командной строки
5. Совершить любой валидный запрос с помощью программы Postman. Адрес запросов: http://localhost:4000/api/market/  
!В адресе запроса не забудьте указать /api (../api/market/<запрос>)


## Тестирование на Heroku
[Ссылка на приложение](https://market-xsolla.herokuapp.com/api/market/all)

- Запрос GET можно выполнять из браузера 
- Для запросов DELETE, PUT и POST можно воспользоваться приложением Postman



